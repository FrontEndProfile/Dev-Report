<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Developer Daily Report</title>
  <meta name="theme-color" content="#000000" />
  <link rel="apple-touch-icon" sizes="180x180" href="./images/sheets.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./images/sheets.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./images/sheets.png">
  <link rel="icon" type="image" href="./images/sheets.png">
  <meta name="format-detection" content="telephone=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="author" content="@FrontEnd">

  <meta name="title"
    content="The Developer Daily Report app is designed to revolutionize the way you track and report your daily tasks.">
  <meta name="description"
    content="I am Fazal as software Engineer | a leading software and technology company that powers the global travel industry. I have 3 years of professional experience in constructing responsive and scalable websites using Web Technologies, such as HTML, CSS, JS.">
  <meta name="copyright" content="&copy; 2024 FrontEndProfile" />
  <meta name="keywords"
    content="FrontEnd Dev, Developer Daily Report App , Time-saving , Increased productivity, Better task management, Improved communication, Data-driven insights, Streamlined reporting process">
  <link rel="canonical" href="https://dev-report-seven.vercel.app/">
  <meta property="og:title" content="Fazal Ul Rehman as FrontEnd Developer & UI Engineer">
  <meta property="og:description"
    content="FrontEnd Engineer at Sabre Corporation is a global technology company | Fazal Ul Rehman FrontEnd Engineer & Developer ">
  <meta name="description"
    content="I am Fazal as software Engineer | a leading software and technology company that powers the global travel industry. I have 3 years of professional experience in constructing responsive and scalable websites using Web Technologies, such as HTML, CSS, JS.">
  <meta property="og:image" content="https://fazal-dev.vercel.app/static/media/fazal.5ba8168075b710cd8dcc.jpeg">
  <meta property="og:url" content="https://frontendprofile.com/">
  <meta property="og:site_name" content="FrontEndProfile">
  <meta property="og:type" content="website">

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

    :root {
      --primary-color: #3498db;
      --text-color: #2c3e50;
      --background-color: #ecf0f1;
      --card-background: #ffffff;
      --border-color: #bdc3c7;
      --placeholder-color: #95a5a6;
      --success-color: #2ecc71;
      --hover-color: #2980b9;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif;
      background-color: var(--background-color);
      margin: 0;
      padding: 25px;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      color: var(--text-color);
    }

    .container {
      background-color: var(--card-background);
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      width: 100%;
      max-width: 500px;
    }

    h1 {
      text-align: center;
      color: var(--text-color);
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 20px;
    }

    form {
      display: flex;
      flex-direction: column;
    }

    label {
      margin-top: 20px;
      font-weight: 600;
      color: var(--text-color);
      font-size: 14px;
    }

    input,
    select,
    textarea {
      width: 100%;
      padding: 12px 16px;
      margin-top: 8px;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      box-sizing: border-box;
      font-size: 16px;
      transition: all 0.3s ease;
      background-color: var(--card-background);
      color: var(--text-color);
    }

    fieldset {
      margin-block: 12px 5px;
      border: 1px solid #6a6a6a;
      padding: 8px 16px;
      box-sizing: border-box;
      border-radius: 8px;
    }

    textarea {
      width: 100%;
      resize: vertical;
    }

    input::placeholder,
    textarea::placeholder {
      color: var(--placeholder-color);
    }

    input:focus,
    select:focus,
    textarea:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
    }

    button {
      background-color: var(--primary-color);
      color: white;
      padding: 14px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 30px;
      font-size: 16px;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    button:hover {
      background-color: var(--hover-color);
    }

    .category-wrapper {
      position: relative;
    }

    .category-wrapper::after {
      content: 'â–¼';
      font-size: 12px;
      color: var(--placeholder-color);
      position: absolute;
      right: 16px;
      top: 60%;
      transform: translateY(-50%);
      pointer-events: none;
    }

    select {
      appearance: none;
      -webkit-appearance: none;
      padding-right: 40px;
    }

    .time-category {
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 20px;
      margin-top: 20px;
    }

    .time-category legend {
      font-size: 16px;
      margin: 0 0 15px 0;
      color: var(--text-color);
      border: 1px solid var(--border-color);
      padding: 4px 10px;
      border-radius: 4px;
    }

    .success-message {
      background-color: var(--success-color);
      color: white;
      padding: 10px;
      border-radius: 8px;
      text-align: center;
      margin-top: 20px;
      display: none;
    }

    #modal {
      display: none;
      position: fixed;
      z-index: 1;
      left: 0;
      top: 0;
      width: 100%;
      height: 100vh;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.4);
    }

    .modal-content {
      background-color: var(--card-background);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      border-radius: 12px;
      margin: 4% auto;
      padding: 20px 28px;
      width: 80%;
      max-width: 500px;
    }

    #authButton {
      display: none;
      margin-top: 10px;
      width: 100%;
    }

    .modal-logo {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    .error-message {
      background-color: rgb(244, 103, 103);
      color: white;
      padding: 10px;
      border-radius: 8px;
      text-align: center;
      margin-top: 20px;
      display: none;
    }
    .space-md {
      margin-bottom: 12px;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="modal-logo">
      <img width="80" src="./images/front-end.png" alt="">
      <h1>Forntend Report Sheet</h1>
    </div>
    <form id="reportForm">
      <label for="task">Task:</label>
      <textarea id="task" name="task" rows="4" required placeholder="Describe your task here..."></textarea>

      <label for="category">Category:</label>
      <div class="category-wrapper">
        <select id="category" name="category" required>
          <option value="" disabled selected>Select a category</option>
          <option value="Bug">Bug</option>
          <option value="R&D">R&D</option>
          <option value="Feature">Feature</option>
        </select>
      </div>

      <fieldset class="time-category">
        <legend>Optional Time category</legend>

        <label for="feature">Feature Spent:</label>
        <input class="space-md" type="number" id="feature" name="feature" min="0" step="0.5" placeholder="Hours spent on features" value="0" required>

        <label for="featureBug">FeatureBug Spent:</label>
        <input class="space-md" type="number" id="featureBug" name="featureBug" min="0" step="0.5" placeholder="Hours spent on feature bugs" value="0" required>

        <label for="bugFixes">Bug Fixes Spent:</label>
        <input class="space-md" type="number" id="bugFixes" name="bugFixes" min="0" step="0.5" placeholder="Hours spent on bug fixes" value="0" required>

      </fieldset>
      <label for="date">Date:</label>
      <input type="date" id="date" name="date" required>

      <label for="hours">Hours Spent:</label>
      <input type="number" id="hours" name="hours" min="0" step="0.5" required placeholder="Enter total hours (e.g. 2.5)">

      <button type="submit">Submit Report</button>
      <!-- <div style="text-align: center; margin-top: 26px;color: #838383;"><span>OR</span></div> -->
    </form>
    <!-- <button id="authButton">Authenticate with Google</button> -->
    <div id="successMessage" class="success-message">Report submitted successfully!</div>

  </div>

  <div id="modal">
    <div class="modal-content">
      <div class="modal-logo">
        <img width="80" src="./images/sheets.png" alt="">
        <h2>Connect to Google Sheets API</h2>
      </div>

      <form id="apiForm">
        <label for="clientId">Client ID:</label>
        <input type="text" id="clientId" name="clientId" required>

        <label for="apiKey">API Key:</label>
        <input type="text" id="apiKey" name="apiKey" required>

        <label for="spreadsheetId">Spreadsheet ID:</label>
        <input type="text" id="spreadsheetId" name="spreadsheetId" required>

        <label for="sheetRange">Sheet Range:</label>
        <input type="text" id="sheetRange" name="sheetRange" required placeholder="e.g., Sheet1!A:D">

        <div id="errorSheet" class="error-message">Please Fill Valid credentials <br> <small
            style="font-size: 12px;padding: 5px;">after 3 seconds auto reload app</small></div>

        <button type="submit">Connect</button>
      </form>
    </div>
  </div>

  <script src="https://apis.google.com/js/api.js"></script>
  <script src="https://accounts.google.com/gsi/client"></script>
  <script>
    let tokenClient;
    let gapiInited = false;
    let gisInited = false;

    document.addEventListener('DOMContentLoaded', function () {
      const modal = document.getElementById('modal');
      const apiForm = document.getElementById('apiForm');
      const reportForm = document.getElementById('reportForm');

      // Check if API credentials are stored
      if (!localStorage.getItem('gapi_credentials')) {
        modal.style.display = 'block';
      } else {
        initializeGoogleAPI(JSON.parse(localStorage.getItem('gapi_credentials')))
          .catch(() => {
            modal.style.display = 'block';
          });
      }


      apiForm.addEventListener('submit', function (e) {
        e.preventDefault();
        const credentials = {
          clientId: document.getElementById('clientId').value,
          apiKey: document.getElementById('apiKey').value,
          spreadsheetId: document.getElementById('spreadsheetId').value,
          sheetRange: document.getElementById('sheetRange').value
        };
        localStorage.setItem('gapi_credentials', JSON.stringify(credentials));

        initializeGoogleAPI(credentials).then(() => {
          modal.style.display = 'none';
        }).catch(() => {
          document.getElementById('errorSheet').style.display = 'block';
          setTimeout(() => {
            document.getElementById('errorSheet').style.display = 'none';
            location.reload()
          }, 4000);
        });
      });

      reportForm.addEventListener('submit', function (e) {
        e.preventDefault();
        handleAuthClick();
      });
    });

    function initializeGoogleAPI(credentials) {
      return new Promise((resolve, reject) => {
        gapi.load('client', () => {
          gapi.client.init({
            apiKey: credentials.apiKey,
            discoveryDocs: ['https://sheets.googleapis.com/$discovery/rest?version=v4'],
          }).then(() => {
            gapiInited = true;
            resolve();
          }).catch(error => {
            console.error('Error initializing Google API:', error);
            reject(error);
          });
        });

        tokenClient = google.accounts.oauth2.initTokenClient({
          client_id: credentials.clientId,
          scope: 'https://www.googleapis.com/auth/spreadsheets',
          callback: '', // defined later
        });

        gisInited = true;
      });
    }

    function handleAuthClick() {
      tokenClient.callback = async (resp) => {
        if (resp.error !== undefined) {
          throw (resp);
        }
        await submitReport();
      };

      if (gapi.client.getToken() === null) {
        tokenClient.requestAccessToken({ prompt: 'consent' });
      } else {
        tokenClient.requestAccessToken({ prompt: '' });
      }
    }

    async function submitReport() {
      const credentials = JSON.parse(localStorage.getItem('gapi_credentials'));
      const formData = new FormData(document.getElementById('reportForm'));
      const report = Object.fromEntries(formData.entries());

      const taskLines = report.task.split('\n').filter(line => line.trim() !== '');
      const formattedTask = taskLines.length > 1
        ? taskLines.map(line => `â€¢ ${line}`).join('\n')
        : report.task;

      const formattedDate = new Date(report.date).toLocaleDateString('en-US', {
          year: 'numeric',
          month: 'short',
          day: 'numeric'
      });
      const values = [
        ["", formattedTask, report.category, formattedDate, report.feature, report.featureBug, report.bugFixes, report.hours] // Adjusted to place values in correct columns
      ];

      try {
        const response = await gapi.client.sheets.spreadsheets.values.append({
          spreadsheetId: credentials.spreadsheetId,
          range: credentials.sheetRange,
          valueInputOption: 'USER_ENTERED',
          resource: { values: values }
        });
        console.log('Report submitted:', response);
        alert('Report submitted successfully!');
        document.getElementById('successMessage').style.display = 'block';
        document.getElementById('reportForm').reset();
        setTimeout(() => {
          document.getElementById('successMessage').style.display = 'none';
        }, 3000);
      } catch (error) {
        console.error('Error submitting report:', error);
        alert('Error submitting report. Please try again.');
      }
    }
  </script>
</body>

</html>